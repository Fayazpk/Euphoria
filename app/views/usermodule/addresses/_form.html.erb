<%= form_with(model: [:usermodule, @address], local: true) do |form| %>
  <% if @address.errors.any? %>
    <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4">
      <h2 class="font-semibold"><%= pluralize(@address.errors.count, "error") %> prohibited this address from being saved:</h2>
      <ul class="list-disc ml-5">
        <% @address.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-wrapper" data-controller="location">
    <div class="grid grid-cols-1 gap-6">

      <!-- First Name Field -->
      <div class="field">
        <%= form.label :first_name, class: "block text-sm font-semibold text-gray-700" %>
        <%= form.text_field :first_name, class: "form-input mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" %>
      </div>

      <!-- Last Name Field -->
      <div class="field">
        <%= form.label :last_name, class: "block text-sm font-semibold text-gray-700" %>
        <%= form.text_field :last_name, class: "form-input mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" %>
      </div>

      <!-- Building Name Field -->
      <div class="field">
        <%= form.label :building_name, class: "block text-sm font-semibold text-gray-700" %>
        <%= form.text_field :building_name, class: "form-input mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" %>
      </div>

      <!-- Street Address Field -->
      <div class="field">
        <%= form.label :street_address, class: "block text-sm font-semibold text-gray-700" %>
        <%= form.text_field :street_address, class: "form-input mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" %>
      </div>

      <!-- Country, State, and City Dropdowns -->
      <%= render 'location_fields', form: form %>

      <!-- Phone Field -->
      <div class="field">
        <%= form.label :phone, class: "block text-sm font-semibold text-gray-700" %>
        <%= form.text_field :phone, class: "form-input mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" %>
      </div>
      
    </div>

    <div class="mt-6">
      <%= form.submit "Save Address", class: "btn btn-primary bg-blue-500 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md transition duration-300" %>
    </div>
  </div>
<% end %>
